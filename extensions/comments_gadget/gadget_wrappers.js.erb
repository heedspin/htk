var gadget_host_url = "https://<%= config['api_hostname'] %>";
function adjust_window_height() {
	gadgets.window.adjustHeight();
}
function getContentMatches() {
	return google.contentmatch.getContentMatches();
}
function htkRequest(method, path, data, callback) {
  var params = {};
  var url = gadget_host_url + path;
  params[gadgets.io.RequestParameters.AUTHORIZATION] = gadgets.io.AuthorizationType.SIGNED;
  params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.JSON;
  if (method === "POST") {
    params[gadgets.io.RequestParameters.METHOD] = gadgets.io.MethodType.POST;
    params[gadgets.io.RequestParameters.POST_DATA] = gadgets.io.encodeValues(data);    
  } else if (method === "GET") {
    params[gadgets.io.RequestParameters.METHOD] = gadgets.io.MethodType.GET;
    url = url + "?" + gadgets.io.encodeValues(data);
  } else if (method === "PUT") {
    params[gadgets.io.RequestParameters.METHOD] = gadgets.io.MethodType.PUT;
    params[gadgets.io.RequestParameters.POST_DATA] = gadgets.io.encodeValues(data);    
  } else if (method === "DELETE") {
    params[gadgets.io.RequestParameters.METHOD] = gadgets.io.MethodType.DELETE;
  }
  return gadgets.io.makeRequest(url, callback, params);        
}
