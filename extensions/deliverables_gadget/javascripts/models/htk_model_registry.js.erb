HtkModelRegistry = function() {}

HtkModelRegistry.prototype = Object.create(Object.prototype);

HtkModelRegistry.prototype.registry = new Object();

HtkModelRegistry.prototype.register = function() {
	var model_constructor = arguments[0];
	for(var i = 1; i < arguments.length; i++) {
    HtkModelRegistry.prototype.registry[arguments[i]] = model_constructor;
  }
}

HtkModelRegistry.prototype.constructor_for = function(key) {
	return HtkModelRegistry.prototype.registry[key];
}

<% [Deliverable, DeliverableComment, DeliverableCommentType, Permission,
 DeliverableRelation, DeliverableType, Email, Message, User].each do |klass| %>
HtkModelRegistry.prototype.register(<%= klass.name %>, '<%= klass.json_root %>', '<%= klass.json_root.pluralize %>');
<% end %>
